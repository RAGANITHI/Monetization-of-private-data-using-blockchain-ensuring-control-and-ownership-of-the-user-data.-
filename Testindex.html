<html>
    <head>
        <link rel="stylesheet" href="/style.css">
        <title>Blockchain Data Monetization app</title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
    </head>
<body>
    <div class="container">
        <h1 class="heading">DNS Nameserver Propagation</h1>
        <button class="enableEthereumButton btn-l">Enable Ethereum</button>
        <div>
            <form method='GET'  action="/getemail">
            <div class="inner" >      
                <h4 class="account" style="padding: 2%;margin: 8%;">Account: <span class="showAccount"></span></h4>
                <span>Site Link</span>
                <input type="text"  id="firstname" name="firstname" />
                <br>
            </div>
            <input onclick="eraseAlert()" type="submit" class="btn-l" value="Publish Data" />
            </form>
        </div>
    </div>
    <script>

        function eraseAlert(){
            alert("Data Published");
            document.getElementById("firstname").innerText="";
        }
        if (typeof window.ethereum !== 'undefined') {
          console.log('MetaMask is installed!');
        }
        const ethereumButton = document.querySelector('.enableEthereumButton');
        const showAccount = document.querySelector('.showAccount');
        ethereumButton.addEventListener('click', () => {
            getAccount();
        });

async function getAccount() {
    const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
    const account = accounts[0];
    showAccount.innerHTML = ethereum.selectedAddress;
    localStorage.setItem("ethacc",ethereum.selectedAddress);
    document.cookie=`Summa=${ethereum.selectedAddress}`;
}
    </script>
</body>
</html>